{{!
  This file is part of Moodle - http://moodle.org/

  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_flashcards/flashcardpreview

    Example context (json):
    {
        "actionurl":"https://someurl",
        "sesskey":"1111111AAE",
        "slot":"1",
        "question":"<div>sometext</div>",
        "upvotes":"133",
        "downvotes":"10",
        "canedit":"true",
        "teachercheckcolor":"red"
    }
}}
<div class="flex-container">
    <form method="post" action="{{{actionurl}}}" enctype="multipart/form-data" id="responseform">
        <div class="row">
            <div class="col">
                <div>
                    <input type="hidden" name="sesskey" value="{{sesskey}}"/>
                    <input type="hidden" name="slots" value="{{slot}}"/>
                    <input type="hidden" name="scrollpos" value="" id="scrollpos"/>
                </div>
                {{{question}}}
                <div id="previewcontrols" class="controls"></div>
            </div>
            <div class="col-12 col-xl-3">
                <div class="mod-flashcards-preview-box">
                    <div class="row justify-content-between">
                        <div class="col-8">
                            <h5>{{# str }} peerreview, mod_flashcards {{/ str }}</h5>
                            {{# str }} peerreviewtext, mod_flashcards {{/ str }}
                        </div>
                        <div class="col-3">
                            <div class="iconsize">
                                <button type="button" class="{{prbtncolorinfoup}}" onClick="$.mod_flashcards_peer_review_up({{questionid}}, {{fcid}}, {{userid}})">{{# pix }} t/approve, core, {{# str }} yes, core {{/ str }} {{/ pix }}</button>
                            </div>
                            <div id="upvotes" name="upvotes" class="color-approved">
                                {{upvotes}}
                            </div>
                            <div id="downvotes" name="downvotes" class="color-declined">
                                {{downvotes}}
                            </div>
                            <div class="upsidedown iconsize">
                                <button type="button" class="{{prbtncolorinfodown}}" onClick="$.mod_flashcards_peer_review_down({{questionid}}, {{fcid}}, {{userid}})">{{# pix }} t/approve, core, {{# str }} no, core{{/ str }} {{/ pix }}</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mod-flashcards-preview-box">
                    <div class="row justify-content-between">
                        <div class="col-8">
                            <h5>{{# str }} discussion, mod_flashcards {{/ str }}</h5>
                            {{# str }} discussiontext, mod_flashcards {{/ str }}
                        </div>
                        <div class="col-3 iconsize">
                            {{# pix }} t/messages, core , {{# str }} discussion, mod_flashcards {{/ str }} {{/ pix }}
                        </div>
                    </div>
                </div>
                <div class="mod-flashcards-preview-box">
                    <div class="row justify-content-between">
                        <div class="col-8">
                            <h5>{{# str }} report, mod_flashcards {{/ str }}</h5>
                            {{# str }} reporttext, mod_flashcards {{/ str }}
                        </div>
                        <div class="col-3 color-declined iconsize">
                            {{# pix }} i/bullhorn, core, {{# str }} report, mod_flashcards {{/ str }} {{/ pix }}
                        </div>
                    </div>
                </div>
                <div class="mod-flashcards-preview-box">
                    <div class="row">
                        <div class="col">
                            <h5>{{# str }} teachercheck, mod_flashcards {{/ str }}</h5>
                            {{# str }}
                                teacherchecktext,
                                mod_flashcards,
                                {
                                "correct" : {{# quote }}<div class='{{teachercheckcolor1}} texticon'>{{# pix }} {{checkicon1.key}}, {{checkicon1.component}}, {{checkicon1.title}} {{/ pix }}</div>{{/ quote }},
                                "wrong" : {{# quote }}<div class='{{teachercheckcolor2}} texticon'>{{# pix }} {{checkicon2.key}}, {{checkicon2.component}}, {{checkicon2.title}} {{/ pix }}</div>{{/ quote }},
                                "notyet" : {{# quote }}<div class='{{teachercheckcolor0}} texticon'>{{# pix }} {{checkicon0.key}}, {{checkicon0.component}}, {{checkicon0.title}} {{/ pix }}</div>{{/ quote }}
                                }
                            {{/ str }}
                        </div>
                    </div>
                    <br>
                    <div class="row justify-content-between">
                        {{#canedit}}
                        <div class="col">
                            <select id="teachercheck" name="teachercheck" onchange="$.mod_flashcards_teacher_check({{questionid}}, {{fcid}}, this.value)">
                                <option value="0" title="{{# str }} uncheck, mod_flashcards {{/ str }}" {{#selected0}}selected{{/selected0}}>{{# str }} uncheck, mod_flashcards {{/ str }}</option>
                                <option value="1" title="{{# str }} accept, mod_flashcards {{/ str }}" {{#selected1}}selected{{/selected1}}>{{# str }} accept, mod_flashcards {{/ str }}</option>
                                <option value="2" title="{{# str }} decline, mod_flashcards {{/ str }}" {{#selected2}}selected{{/selected2}}>{{# str }} decline, mod_flashcards {{/ str }}</option>
                            </select>
                        </div>
                        {{/canedit}}
                        <div class="col-3">
                            {{#canedit}}
                            <div id="tcicon1" class="{{teachercheckcolor1}} iconsize" {{^icon1}} style="display: none;" {{/icon1}}>
                                {{# pix }} {{checkicon1.key}}, {{checkicon1.component}}, {{checkicon1.title}} {{/ pix }}
                            </div>
                            <div id="tcicon2" class="{{teachercheckcolor2}} iconsize" {{^icon2}} style="display: none;" {{/icon2}}>
                                {{# pix }} {{checkicon2.key}}, {{checkicon2.component}}, {{checkicon2.title}} {{/ pix }}
                            </div>
                            <div id="tcicon0" class="{{teachercheckcolor0}} iconsize" {{^icon0}} style="display: none;" {{/icon0}}>
                                {{# pix }} {{checkicon0.key}}, {{checkicon0.component}}, {{checkicon0.title}} {{/ pix }}
                            </div>
                            {{/canedit}}
                            {{^canedit}}
                            <div class="{{teachercheckcolor}} iconsize">
                                {{# pix }} {{checkicon.key}}, {{checkicon.component}}, {{checkicon.title}} {{/ pix }}
                            </div>
                            {{/canedit}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>