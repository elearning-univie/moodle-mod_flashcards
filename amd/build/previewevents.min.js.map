{"version":3,"file":"previewevents.min.js","sources":["../src/previewevents.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'], function ($, ajax, notification){\n    return {\n        init: function() {\n            $.mod_flashcards_teacher_check = function (questionid, fcid, oldval, valueselected) {\n                    ajax.call([{\n                        methodname: 'mod_flashcards_set_preview_status',\n                        args: {flashcardsid: fcid, questionid: questionid, status: valueselected},\n                        done: function() {\n                            for (let i = 0; i < 3; i++) {\n                                $(\"#tcicon\" + i).hide();\n                              }\n                            $(\"#tcicon\" + valueselected).show();\n                         },\n                         fail: notification.exception\n                    }]);\n            };\n            $.mod_flashcards_peer_review = function (questionid, fcid, vote) {\n                var downvotebtncl = document.getElementById('downvotebtn').classList;\n                var upvotebtncl = document.getElementById('upvotebtn').classList;\n                var upvoteval = parseInt(document.getElementById('upvotescount').innerHTML);\n                var downvoteval = parseInt(document.getElementById('downvotescount').innerHTML);\n                ajax.call([{\n                    methodname: 'mod_flashcards_set_peer_review_vote',\n                    args: {flashcardsid: fcid, questionid: questionid, vote: vote},\n                    done: function() {\n                        if (upvotebtncl.contains('btn-up')) {\n                            upvotebtncl.remove('btn-up');\n                            upvoteval -= 1;\n                        } else if (downvotebtncl.contains('btn-down')) {\n                            downvotebtncl.remove('btn-down');\n                            downvoteval -= 1;\n                        }\n\n                        if (vote == 1) {\n                            upvotebtncl.add('btn-up');\n                            upvoteval += 1;\n                        } else {\n                            downvotebtncl.add('btn-down');\n                            downvoteval += 1;\n                        }\n                        document.getElementById('upvotescount').innerHTML = upvoteval;\n                        document.getElementById('downvotescount').innerHTML = downvoteval;\n                     },\n                     fail: notification.exception\n                }]);\n            };\n            $.mod_flashcards_hide_show_answer = function (qaid, htxt, stxt) {\n                var x = document.getElementById('mod-flashcards-showhidecontainer-answer-'.concat(qaid));\n                var btn = document.getElementById('mod-flashcards-showhidebutton-'.concat(qaid));\n                if (x.style.display === 'none') {\n                    btn.textContent = htxt;\n                    x.style.display = 'block';\n                } else {\n                    btn.textContent = stxt;\n                    x.style.display = 'none';\n                }\n            };\n        }\n    };\n});\n"],"names":["define","$","ajax","notification","init","mod_flashcards_teacher_check","questionid","fcid","oldval","valueselected","call","methodname","args","flashcardsid","status","done","i","hide","show","fail","exception","mod_flashcards_peer_review","vote","downvotebtncl","document","getElementById","classList","upvotebtncl","upvoteval","parseInt","innerHTML","downvoteval","contains","remove","add","mod_flashcards_hide_show_answer","qaid","htxt","stxt","x","concat","btn","style","display","textContent"],"mappings":"AAAAA,sCAAO,CAAC,SAAU,YAAa,sBAAsB,SAAUC,EAAGC,KAAMC,oBAC7D,CACHC,KAAM,WACFH,EAAEI,6BAA+B,SAAUC,WAAYC,KAAMC,OAAQC,eAC7DP,KAAKQ,KAAK,CAAC,CACPC,WAAY,oCACZC,KAAM,CAACC,aAAcN,KAAMD,WAAYA,WAAYQ,OAAQL,eAC3DM,KAAM,eACG,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACnBf,EAAE,UAAYe,GAAGC,OAErBhB,EAAE,UAAYQ,eAAeS,QAEhCC,KAAMhB,aAAaiB,cAGhCnB,EAAEoB,2BAA6B,SAAUf,WAAYC,KAAMe,UACnDC,cAAgBC,SAASC,eAAe,eAAeC,UACvDC,YAAcH,SAASC,eAAe,aAAaC,UACnDE,UAAYC,SAASL,SAASC,eAAe,gBAAgBK,WAC7DC,YAAcF,SAASL,SAASC,eAAe,kBAAkBK,WACrE5B,KAAKQ,KAAK,CAAC,CACPC,WAAY,sCACZC,KAAM,CAACC,aAAcN,KAAMD,WAAYA,WAAYgB,KAAMA,MACzDP,KAAM,WACEY,YAAYK,SAAS,WACrBL,YAAYM,OAAO,UACnBL,WAAa,GACNL,cAAcS,SAAS,cAC9BT,cAAcU,OAAO,YACrBF,aAAe,GAGP,GAART,MACAK,YAAYO,IAAI,UAChBN,WAAa,IAEbL,cAAcW,IAAI,YAClBH,aAAe,GAEnBP,SAASC,eAAe,gBAAgBK,UAAYF,UACpDJ,SAASC,eAAe,kBAAkBK,UAAYC,aAEzDZ,KAAMhB,aAAaiB,cAG5BnB,EAAEkC,gCAAkC,SAAUC,KAAMC,KAAMC,UAClDC,EAAIf,SAASC,eAAe,2CAA2Ce,OAAOJ,OAC9EK,IAAMjB,SAASC,eAAe,iCAAiCe,OAAOJ,OAClD,SAApBG,EAAEG,MAAMC,SACRF,IAAIG,YAAcP,KAClBE,EAAEG,MAAMC,QAAU,UAElBF,IAAIG,YAAcN,KAClBC,EAAEG,MAAMC,QAAU"}