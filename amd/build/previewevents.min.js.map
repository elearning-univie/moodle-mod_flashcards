{"version":3,"sources":["../src/previewevents.js"],"names":["define","$","ajax","notification","init","mod_flashcards_teacher_check","questionid","fcid","oldval","valueselected","call","methodname","args","flashcardsid","status","done","i","hide","show","fail","exception","mod_flashcards_peer_review","vote","downvotebtncl","document","getElementById","classList","upvotebtncl","upvoteval","parseInt","innerHTML","downvoteval","contains","remove","add"],"mappings":"AAAAA,OAAM,gCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAAD,CAA+C,SAAUC,CAAV,CAAaC,CAAb,CAAmBC,CAAnB,CAAgC,CACjF,MAAO,CACHC,IAAI,CAAE,eAAW,CACbH,CAAC,CAACI,4BAAF,CAAiC,SAAUC,CAAV,CAAsBC,CAAtB,CAA4BC,CAA5B,CAAoCC,CAApC,CAAmD,CAC5EP,CAAI,CAACQ,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,mCADL,CAEPC,IAAI,CAAE,CAACC,YAAY,CAAEN,CAAf,CAAqBD,UAAU,CAAEA,CAAjC,CAA6CQ,MAAM,CAAEL,CAArD,CAFC,CAGPM,IAAI,CAAE,eAAW,CACb,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAoB,CAAJ,CAAAA,CAAhB,CAAuBA,CAAC,EAAxB,CAA4B,CACxBf,CAAC,CAAC,UAAYe,CAAb,CAAD,CAAiBC,IAAjB,EACD,CACHhB,CAAC,CAAC,UAAYQ,CAAb,CAAD,CAA6BS,IAA7B,EACF,CARK,CASNC,IAAI,CAAEhB,CAAY,CAACiB,SATb,CAAD,CAAV,CAWP,CAZD,CAaAnB,CAAC,CAACoB,0BAAF,CAA+B,SAAUf,CAAV,CAAsBC,CAAtB,CAA4Be,CAA5B,CAAkC,IACzDC,CAAAA,CAAa,CAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SADE,CAEzDC,CAAW,CAAGH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAFM,CAGzDE,CAAS,CAAGC,QAAQ,CAACL,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCK,SAAzC,CAHqC,CAIzDC,CAAW,CAAGF,QAAQ,CAACL,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CK,SAA3C,CAJmC,CAK7D5B,CAAI,CAACQ,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,qCADL,CAEPC,IAAI,CAAE,CAACC,YAAY,CAAEN,CAAf,CAAqBD,UAAU,CAAEA,CAAjC,CAA6CgB,IAAI,CAAEA,CAAnD,CAFC,CAGPP,IAAI,CAAE,eAAW,CACb,GAAIY,CAAW,CAACK,QAAZ,CAAqB,QAArB,CAAJ,CAAoC,CAChCL,CAAW,CAACM,MAAZ,CAAmB,QAAnB,EACAL,CAAS,EAAI,CAChB,CAHD,IAGO,IAAIL,CAAa,CAACS,QAAd,CAAuB,UAAvB,CAAJ,CAAwC,CAC3CT,CAAa,CAACU,MAAd,CAAqB,UAArB,EACAF,CAAW,EAAI,CAClB,CAED,GAAY,CAAR,EAAAT,CAAJ,CAAe,CACXK,CAAW,CAACO,GAAZ,CAAgB,QAAhB,EACAN,CAAS,EAAI,CAChB,CAHD,IAGO,CACHL,CAAa,CAACW,GAAd,CAAkB,UAAlB,EACAH,CAAW,EAAI,CAClB,CACDP,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCK,SAAxC,CAAoDF,CAApD,CACAJ,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CK,SAA1C,CAAsDC,CACxD,CArBK,CAsBNZ,IAAI,CAAEhB,CAAY,CAACiB,SAtBb,CAAD,CAAV,CAwBH,CACJ,CA7CE,CA+CV,CAhDK,CAAN","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'], function ($, ajax, notification){\n    return {\n        init: function() {\n            $.mod_flashcards_teacher_check = function (questionid, fcid, oldval, valueselected) {\n                    ajax.call([{\n                        methodname: 'mod_flashcards_set_preview_status',\n                        args: {flashcardsid: fcid, questionid: questionid, status: valueselected},\n                        done: function() {\n                            for (let i = 0; i < 3; i++) {\n                                $(\"#tcicon\" + i).hide();\n                              }\n                            $(\"#tcicon\" + valueselected).show();\n                         },\n                         fail: notification.exception\n                    }]);\n            };\n            $.mod_flashcards_peer_review = function (questionid, fcid, vote) {\n                var downvotebtncl = document.getElementById('downvotebtn').classList;\n                var upvotebtncl = document.getElementById('upvotebtn').classList;\n                var upvoteval = parseInt(document.getElementById('upvotescount').innerHTML);\n                var downvoteval = parseInt(document.getElementById('downvotescount').innerHTML);\n                ajax.call([{\n                    methodname: 'mod_flashcards_set_peer_review_vote',\n                    args: {flashcardsid: fcid, questionid: questionid, vote: vote},\n                    done: function() {\n                        if (upvotebtncl.contains('btn-up')) {\n                            upvotebtncl.remove('btn-up');\n                            upvoteval -= 1;\n                        } else if (downvotebtncl.contains('btn-down')) {\n                            downvotebtncl.remove('btn-down');\n                            downvoteval -= 1;\n                        }\n\n                        if (vote == 1) {\n                            upvotebtncl.add('btn-up');\n                            upvoteval += 1;\n                        } else {\n                            downvotebtncl.add('btn-down');\n                            downvoteval += 1;\n                        }\n                        document.getElementById('upvotescount').innerHTML = upvoteval;\n                        document.getElementById('downvotescount').innerHTML = downvoteval;\n                     },\n                     fail: notification.exception\n                }]);\n            };\n        }\n    };\n});\n"],"file":"previewevents.min.js"}