{"version":3,"file":"questioninit.min.js","sources":["../src/questioninit.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/notification', 'core/url'], function ($, ajax, notification) {\n    return {\n        init: function () {\n            $.mod_flashcards_init_questions = function (aid) {\n                var data = document.querySelectorAll(\".mod-flashcards-checkbox\");\n                var qids = [];\n                for (var i = 0; i < data.length; i++) {\n                    if (data[i].checked == true) {\n                        qids[i] = data[i].dataset.value;\n                    }\n                }\n                if (qids && qids.length) {\n                    ajax.call([{\n                        methodname: 'mod_flashcards_init_questions',\n                        args: {flashcardsid: aid, qids: qids},\n                        done: function () {\n                            let params = new URLSearchParams(location.search);\n                            params.set('page', '0');\n                            location.search = params.toString();\n                        },\n                        fail: notification.exception\n                    }]);\n                }\n            };\n            $.mod_flashcards_remove_questions = function (aid) {\n                var data = document.querySelectorAll(\".mod-flashcards-checkbox\");\n                var qids = [];\n                for (var i = 0; i < data.length; i++) {\n                    if (data[i].checked == true) {\n                        qids[i] = data[i].dataset.value;\n                    }\n                }\n                if (qids && qids.length) {\n                    ajax.call([{\n                        methodname: 'mod_flashcards_remove_questions',\n                        args: {flashcardsid: aid, qids: qids},\n                        done: function () {\n                            location.reload();\n                        },\n                        fail: notification.exception\n                    }]);\n                }\n            };\n            $.mod_flashcards_selected = function () {\n                var checkboxes = document.getElementsByName('selectbox');\n                var checkboxesChecked = [];\n                for (var i=0; i<checkboxes.length; i++) {\n                   if (checkboxes[i].checked) {\n                      checkboxesChecked.push(checkboxes[i]);\n                   }\n                }\n                if(checkboxesChecked.length > 0){\n                    document.getElementById(\"maintanancebtn\").disabled = false;\n                } else{\n                    document.getElementById(\"maintanancebtn\").disabled = true;\n                }\n            };\n            $.mod_flashcards_select_all = function (selected) {\n                $('input:checkbox').not(selected).prop('checked', selected.checked);\n                this.mod_flashcards_selected();\n            };\n        }\n    };\n});\n\n"],"names":["define","$","ajax","notification","init","mod_flashcards_init_questions","aid","data","document","querySelectorAll","qids","i","length","checked","dataset","value","call","methodname","args","flashcardsid","done","params","URLSearchParams","location","search","set","toString","fail","exception","mod_flashcards_remove_questions","reload","mod_flashcards_selected","checkboxes","getElementsByName","checkboxesChecked","push","getElementById","disabled","mod_flashcards_select_all","selected","not","prop","this"],"mappings":"AAAAA,qCAAO,CAAC,SAAU,YAAa,oBAAqB,aAAa,SAAUC,EAAGC,KAAMC,cAChF,MAAO,CACHC,KAAM,WACFH,EAAEI,8BAAgC,SAAUC,KAGxC,IAFA,IAAIC,KAAOC,SAASC,iBAAiB,4BACjCC,KAAO,GACFC,EAAI,EAAGA,EAAIJ,KAAKK,OAAQD,IACN,GAAnBJ,KAAKI,GAAGE,UACRH,KAAKC,GAAKJ,KAAKI,GAAGG,QAAQC,OAG9BL,MAAQA,KAAKE,QACbV,KAAKc,KAAK,CAAC,CACPC,WAAY,gCACZC,KAAM,CAACC,aAAcb,IAAKI,KAAMA,MAChCU,KAAM,WACF,IAAIC,OAAS,IAAIC,gBAAgBC,SAASC,QAC1CH,OAAOI,IAAI,OAAQ,KACnBF,SAASC,OAASH,OAAOK,UANtB,EAQPC,KAAMxB,aAAayB,cAI/B3B,EAAE4B,gCAAkC,SAAUvB,KAG1C,IAFA,IAAIC,KAAOC,SAASC,iBAAiB,4BACjCC,KAAO,GACFC,EAAI,EAAGA,EAAIJ,KAAKK,OAAQD,IACN,GAAnBJ,KAAKI,GAAGE,UACRH,KAAKC,GAAKJ,KAAKI,GAAGG,QAAQC,OAG9BL,MAAQA,KAAKE,QACbV,KAAKc,KAAK,CAAC,CACPC,WAAY,kCACZC,KAAM,CAACC,aAAcb,IAAKI,KAAMA,MAChCU,KAAM,WACFG,SAASO,QAJN,EAMPH,KAAMxB,aAAayB,cAI/B3B,EAAE8B,wBAA0B,WAGxB,IAFA,IAAIC,WAAaxB,SAASyB,kBAAkB,aACxCC,kBAAoB,GACfvB,EAAE,EAAGA,EAAEqB,WAAWpB,OAAQD,IAC5BqB,WAAWrB,GAAGE,SACfqB,kBAAkBC,KAAKH,WAAWrB,IAGrCuB,kBAAkBtB,OAAS,EAC1BJ,SAAS4B,eAAe,kBAAkBC,UAAW,EAErD7B,SAAS4B,eAAe,kBAAkBC,UAAW,GAG7DpC,EAAEqC,0BAA4B,SAAUC,UACpCtC,EAAE,kBAAkBuC,IAAID,UAAUE,KAAK,UAAWF,SAAS1B,SAC3D6B,KAAKX,0BAEZ,EAER"}