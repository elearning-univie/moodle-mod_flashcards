{"version":3,"file":"questioninit.min.js","sources":["../src/questioninit.js"],"sourcesContent":["import $ from \"jquery\";\nimport ajax from \"core/ajax\";\nimport notification from \"core/notification\";\n\nexport const init = () => {\n    $.mod_flashcards_init_questions = function (aid) {\n        var data = document.querySelectorAll(\".mod-flashcards-checkbox\");\n        var qids = [];\n        for (var i = 0; i < data.length; i++) {\n            if (data[i].checked == true) {\n                qids[i] = data[i].dataset.value;\n            }\n        }\n        if (qids && qids.length) {\n            ajax.call([{\n                methodname: 'mod_flashcards_init_questions',\n                args: {flashcardsid: aid, qids: qids},\n                done: function () {\n                    let params = new URLSearchParams(location.search);\n                    params.set('page', '0');\n                    location.search = params.toString();\n                },\n                fail: notification.exception\n            }]);\n        }\n    };\n    $.mod_flashcards_remove_questions = function (aid) {\n        var data = document.querySelectorAll(\".mod-flashcards-checkbox\");\n        var qids = [];\n        for (var i = 0; i < data.length; i++) {\n            if (data[i].checked == true) {\n                qids[i] = data[i].dataset.value;\n            }\n        }\n        if (qids && qids.length) {\n            ajax.call([{\n                methodname: 'mod_flashcards_remove_questions',\n                args: {flashcardsid: aid, qids: qids},\n                done: function () {\n                    location.reload();\n                },\n                fail: notification.exception\n            }]);\n        }\n    };\n    $.mod_flashcards_selected = function () {\n        var checkboxes = document.getElementsByName('selectbox');\n        var checkboxesChecked = [];\n        for (var i=0; i<checkboxes.length; i++) {\n            if (checkboxes[i].checked) {\n                checkboxesChecked.push(checkboxes[i]);\n            }\n        }\n        if(checkboxesChecked.length > 0){\n            document.getElementById(\"maintanancebtn\").disabled = false;\n        } else{\n            document.getElementById(\"maintanancebtn\").disabled = true;\n        }\n    };\n    $.mod_flashcards_select_all = function (selected) {\n        $('input:checkbox').not(selected).prop('checked', selected.checked);\n        this.mod_flashcards_selected();\n    };\n};\n"],"names":["mod_flashcards_init_questions","aid","data","document","querySelectorAll","qids","i","length","checked","dataset","value","call","methodname","args","flashcardsid","done","params","URLSearchParams","location","search","set","toString","fail","notification","exception","mod_flashcards_remove_questions","reload","mod_flashcards_selected","checkboxes","getElementsByName","checkboxesChecked","push","getElementById","disabled","mod_flashcards_select_all","selected","not","prop"],"mappings":"ubAIoB,qBACdA,8BAAgC,SAAUC,aACpCC,KAAOC,SAASC,iBAAiB,4BACjCC,KAAO,GACFC,EAAI,EAAGA,EAAIJ,KAAKK,OAAQD,IACN,GAAnBJ,KAAKI,GAAGE,UACRH,KAAKC,GAAKJ,KAAKI,GAAGG,QAAQC,OAG9BL,MAAQA,KAAKE,sBACRI,KAAK,CAAC,CACPC,WAAY,gCACZC,KAAM,CAACC,aAAcb,IAAKI,KAAMA,MAChCU,KAAM,eACEC,OAAS,IAAIC,gBAAgBC,SAASC,QAC1CH,OAAOI,IAAI,OAAQ,KACnBF,SAASC,OAASH,OAAOK,YAE7BC,KAAMC,sBAAaC,8BAI7BC,gCAAkC,SAAUxB,aACtCC,KAAOC,SAASC,iBAAiB,4BACjCC,KAAO,GACFC,EAAI,EAAGA,EAAIJ,KAAKK,OAAQD,IACN,GAAnBJ,KAAKI,GAAGE,UACRH,KAAKC,GAAKJ,KAAKI,GAAGG,QAAQC,OAG9BL,MAAQA,KAAKE,sBACRI,KAAK,CAAC,CACPC,WAAY,kCACZC,KAAM,CAACC,aAAcb,IAAKI,KAAMA,MAChCU,KAAM,WACFG,SAASQ,UAEbJ,KAAMC,sBAAaC,8BAI7BG,wBAA0B,mBACpBC,WAAazB,SAAS0B,kBAAkB,aACxCC,kBAAoB,GACfxB,EAAE,EAAGA,EAAEsB,WAAWrB,OAAQD,IAC3BsB,WAAWtB,GAAGE,SACdsB,kBAAkBC,KAAKH,WAAWtB,IAGvCwB,kBAAkBvB,OAAS,EAC1BJ,SAAS6B,eAAe,kBAAkBC,UAAW,EAErD9B,SAAS6B,eAAe,kBAAkBC,UAAW,mBAG3DC,0BAA4B,SAAUC,8BAClC,kBAAkBC,IAAID,UAAUE,KAAK,UAAWF,SAAS3B,cACtDmB"}