{"version":3,"file":"addquestionmodallauncher.min.js","sources":["../src/addquestionmodallauncher.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Initialise the an add question modal on the quiz page.\n *\n * @module    mod_flashcards/addquestionmodallauncher\n * @copyright 2021 University of Vienna\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nimport Notification from 'core/notification';\nimport ModalFactory from 'core/modal_factory';\n\nconst AddQuestionModalLauncher = {\n    /**\n     * Create a modal using the modal factory and add listeners to launch the\n     * modal when clicked.\n     *\n     * @param  {string} modalType Which modal to create\n     * @param  {string} selector The selectors for the elements that trigger the modal\n     * @param  {int} contextId The current context id\n     * @param  {function} preShowCallback A callback to execute before the modal is shown\n     * @return {promise} Resolved with the modal\n     */\n    init(modalType, selector, contextId, preShowCallback) {\n        const body = $('body');\n        return ModalFactory.create(\n            {\n                type: modalType,\n                large: true,\n                preShowCallback(triggerElement, modal) {\n                    triggerElement = $(triggerElement);\n                    modal.setContextId(contextId);\n                    modal.setAddOnPageId(triggerElement.attr('data-addonpage'));\n                    modal.setTitle(triggerElement.attr('data-header'));\n\n                    if (preShowCallback) {\n                        preShowCallback(triggerElement, modal);\n                    }\n                }\n            },\n            [body, selector]\n        ).fail(Notification.exception);\n    }\n};\n\nexport default AddQuestionModalLauncher;\n"],"names":["init","modalType","selector","contextId","preShowCallback","body","ModalFactory","create","type","large","triggerElement","modal","setContextId","setAddOnPageId","attr","setTitle","fail","Notification","exception"],"mappings":";;;;;;;oPA0BiC,CAW7BA,KAAKC,UAAWC,SAAUC,UAAWC,uBAC3BC,MAAO,mBAAE,eACRC,uBAAaC,OAChB,CACIC,KAAMP,UACNQ,OAAO,EACPL,gBAAgBM,eAAgBC,OAC5BD,gBAAiB,mBAAEA,gBACnBC,MAAMC,aAAaT,WACnBQ,MAAME,eAAeH,eAAeI,KAAK,mBACzCH,MAAMI,SAASL,eAAeI,KAAK,gBAE/BV,iBACAA,gBAAgBM,eAAgBC,SAI5C,CAACN,KAAMH,WACTc,KAAKC,sBAAaC"}