{"version":3,"sources":["../src/studentcontroller.js"],"names":["define","$","ajax","notification","url","init","mod_flashcards_call_update","$fid","$questionid","$qaid","$cmid","$qanswervalue","document","getElementById","concat","value","urlParams","URLSearchParams","window","location","search","boxid","get","call","methodname","args","fid","questionid","qanswervalue","done","result","html","fail","exception","relativeUrl"],"mappings":"AAAAA,OAAM,oCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAA6C,UAA7C,CAAD,CAA2D,SAAUC,CAAV,CAAaC,CAAb,CAAmBC,CAAnB,CAAiCC,CAAjC,CAAqC,CAClG,MAAO,CACHC,IAAI,CAAE,eAAW,CACbJ,CAAC,CAACK,0BAAF,CAA+B,SAAUC,CAAV,CAAgBC,CAAhB,CAA6BC,CAA7B,CAAoCC,CAApC,CAA2C,IAClEC,CAAAA,CAAa,CAAGC,QAAQ,CAACC,cAAT,CAAwB,8BAA8BC,MAA9B,CAAqCL,CAArC,CAAxB,EAAqEM,KADnB,CAElEC,CAAS,CAAG,GAAIC,CAAAA,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAFsD,CAGlEC,CAAK,CAAGL,CAAS,CAACM,GAAV,CAAc,KAAd,CAH0D,CAItEpB,CAAI,CAACqB,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,gCADL,CAEPC,IAAI,CAAE,CAACC,GAAG,CAAEnB,CAAN,CAAYc,KAAK,CAAEA,CAAnB,CAA0BM,UAAU,CAAEnB,CAAtC,CAAmDoB,YAAY,CAAEjB,CAAjE,CAFC,CAGPkB,IAAI,CAAE,eAAY,CACd3B,CAAI,CAACqB,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,mCADL,CAEPC,IAAI,CAAE,CAACC,GAAG,CAAEnB,CAAN,CAAYc,KAAK,CAAEA,CAAnB,CAFC,CAGPQ,IAAI,CAAE,cAASC,CAAT,CAAiB,CACnB,GAAe,IAAX,GAAAA,CAAJ,CAAqB,CACjB7B,CAAC,CAAC,0BAAD,CAAD,CAA8B8B,IAA9B,CAAmCD,CAAnC,EACA5B,CAAI,CAACqB,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,oCADL,CAEPC,IAAI,CAAE,CAACC,GAAG,CAAEnB,CAAN,CAAYc,KAAK,CAAEA,CAAnB,CAFC,CAGPQ,IAAI,CAAE,cAASC,CAAT,CAAiB,CACnB,GAAe,IAAX,GAAAA,CAAJ,CAAqB,CACjB7B,CAAC,CAAC,mCAAD,CAAD,CAAuC8B,IAAvC,CAA4CD,CAA5C,CACH,CACJ,CAPM,CAQPE,IAAI,CAAE7B,CAAY,CAAC8B,SARZ,CAAD,CAAV,CAUH,CAZD,IAYO,CACHf,MAAM,CAACC,QAAP,CAAkBf,CAAG,CAAC8B,WAAJ,CAAgB,sCAAwCxB,CAAxD,CACrB,CACJ,CAnBM,CAoBPsB,IAAI,CAAE7B,CAAY,CAAC8B,SApBZ,CAAD,CAAV,CAsBH,CA1BM,CA2BPD,IAAI,CAAE7B,CAAY,CAAC8B,SA3BZ,CAAD,CAAV,CA6BH,CACJ,CApCE,CAsCV,CAvCK,CAAN","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification', 'core/url'], function ($, ajax, notification, url){\n    return {\n        init: function() {\n            $.mod_flashcards_call_update = function ($fid, $questionid, $qaid, $cmid) {\n                var $qanswervalue = document.getElementById('qflashcard-question-answer-'.concat($qaid)).value;\n                var urlParams = new URLSearchParams(window.location.search);\n                var boxid = urlParams.get('box');\n                ajax.call([{\n                    methodname: 'mod_flashcards_update_progress',\n                    args: {fid: $fid, boxid: boxid, questionid: $questionid, qanswervalue: $qanswervalue},\n                    done: function () {\n                        ajax.call([{\n                            methodname: 'mod_flashcards_load_next_question',\n                            args: {fid: $fid, boxid: boxid},\n                            done: function(result) {\n                                if (result !== null) {\n                                    $(\"#mod-flashcards-question\").html(result);\n                                    ajax.call([{\n                                        methodname: 'mod_flashcards_load_learn_progress',\n                                        args: {fid: $fid, boxid: boxid},\n                                        done: function(result) {\n                                            if (result !== null) {\n                                                $(\"#mod-flashcards-learning-progress\").html(result);\n                                            }\n                                        },\n                                        fail: notification.exception\n                                    }]);\n                                } else {\n                                    window.location = url.relativeUrl('/mod/flashcards/studentview.php?id=' + $cmid);\n                                }\n                            },\n                            fail: notification.exception\n                        }]);\n                    },\n                    fail: notification.exception\n                }]);\n            };\n        }\n    };\n});\n"],"file":"studentcontroller.min.js"}