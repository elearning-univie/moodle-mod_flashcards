{"version":3,"file":"studentcontroller.min.js","sources":["../src/studentcontroller.js"],"sourcesContent":["import $ from \"jquery\";\nimport ajax from \"core/ajax\";\nimport notification from \"core/notification\";\nimport url from \"core/url\";\nimport event from \"core/event\";\n\nexport const init = () => {\n    var mobilebox = document.getElementById('mod-flashcards-mobile-app-info');\n    var showbtn = document.getElementById('mod-flashcards-show-app');\n    var collectionbox = document.getElementById('mod-flashcards-collection-box');\n    $.mod_flashcards_call_update = function ($fid, $questionid, $qaid, $cmid) {\n        var qanswervalue = document.getElementById('qflashcard-question-answer-'.concat($qaid)).value;\n        var urlParams = new URLSearchParams(window.location.search);\n        var boxid = urlParams.get('box');\n        ajax.call([{\n            methodname: 'mod_flashcards_update_progress',\n            args: {fid: $fid, boxid: boxid, questionid: $questionid, qanswervalue: qanswervalue},\n            done: function () {\n                ajax.call([{\n                    methodname: 'mod_flashcards_load_next_question',\n                    args: {fid: $fid, boxid: boxid},\n                    done: function(result) {\n                        if (result !== null) {\n                            $(\"#mod-flashcards-question\").html(result);\n                            event.notifyFilterContentUpdated($(\"#mod-flashcards-question\"));\n                            ajax.call([{\n                                methodname: 'mod_flashcards_load_learn_progress',\n                                args: {fid: $fid, boxid: boxid},\n                                done: function(result) {\n                                    if (result !== null) {\n                                        $(\"#mod-flashcards-learning-progress\").html(result);\n                                    }\n                                },\n                                fail: notification.exception\n                            }]);\n                        } else {\n                            window.location = url.relativeUrl('/mod/flashcards/studentview.php?id=' + $cmid);\n                        }\n                    },\n                    fail: notification.exception\n                }]);\n            },\n            fail: notification.exception\n        }]);\n    };\n    $.mod_flashcards_minimize_app = function () {\n        mobilebox.style.display = \"none\";\n        showbtn.style.display = \"inline\";\n\n        collectionbox.classList.remove('col-sm-8');\n        collectionbox.classList.add('col-sm-12');\n\n        ajax.call([{\n            methodname: 'mod_flashcards_set_showappinfo',\n            args: {prefval: false},\n            fail: notification.exception\n        }]);\n    };\n    $.mod_flashcards_show_app = function () {\n        mobilebox.style.display = \"block\";\n        showbtn.style.display = \"none\";\n\n        collectionbox.classList.remove('col-sm-12');\n        collectionbox.classList.add('col-sm-8');\n\n        ajax.call([{\n            methodname: 'mod_flashcards_set_showappinfo',\n            args: {prefval: true},\n            fail: notification.exception\n        }]);\n    };\n};\n"],"names":["mobilebox","document","getElementById","showbtn","collectionbox","mod_flashcards_call_update","$fid","$questionid","$qaid","$cmid","qanswervalue","concat","value","boxid","URLSearchParams","window","location","search","get","call","methodname","args","fid","questionid","done","result","html","notifyFilterContentUpdated","fail","notification","exception","url","relativeUrl","mod_flashcards_minimize_app","style","display","classList","remove","add","prefval","mod_flashcards_show_app"],"mappings":"wiBAMoB,SACZA,UAAYC,SAASC,eAAe,kCACpCC,QAAUF,SAASC,eAAe,2BAClCE,cAAgBH,SAASC,eAAe,iDAC1CG,2BAA6B,SAAUC,KAAMC,YAAaC,MAAOC,WAC3DC,aAAeT,SAASC,eAAe,8BAA8BS,OAAOH,QAAQI,MAEpFC,MADY,IAAIC,gBAAgBC,OAAOC,SAASC,QAC9BC,IAAI,qBACrBC,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACC,IAAKhB,KAAMO,MAAOA,MAAOU,WAAYhB,YAAaG,aAAcA,cACvEc,KAAM,yBACGL,KAAK,CAAC,CACPC,WAAY,oCACZC,KAAM,CAACC,IAAKhB,KAAMO,MAAOA,OACzBW,KAAM,SAASC,QACI,OAAXA,4BACE,4BAA4BC,KAAKD,uBAC7BE,4BAA2B,mBAAE,2CAC9BR,KAAK,CAAC,CACPC,WAAY,qCACZC,KAAM,CAACC,IAAKhB,KAAMO,MAAOA,OACzBW,KAAM,SAASC,QACI,OAAXA,4BACE,qCAAqCC,KAAKD,SAGpDG,KAAMC,sBAAaC,cAGvBf,OAAOC,SAAWe,aAAIC,YAAY,sCAAwCvB,QAGlFmB,KAAMC,sBAAaC,cAG3BF,KAAMC,sBAAaC,8BAGzBG,4BAA8B,WAC5BjC,UAAUkC,MAAMC,QAAU,OAC1BhC,QAAQ+B,MAAMC,QAAU,SAExB/B,cAAcgC,UAAUC,OAAO,YAC/BjC,cAAcgC,UAAUE,IAAI,2BAEvBnB,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACkB,SAAS,GAChBX,KAAMC,sBAAaC,8BAGzBU,wBAA0B,WACxBxC,UAAUkC,MAAMC,QAAU,QAC1BhC,QAAQ+B,MAAMC,QAAU,OAExB/B,cAAcgC,UAAUC,OAAO,aAC/BjC,cAAcgC,UAAUE,IAAI,0BAEvBnB,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACkB,SAAS,GAChBX,KAAMC,sBAAaC"}