{"version":3,"sources":["../src/studentcontroller.js"],"names":["define","$","ajax","notification","url","init","mobilebox","document","getElementById","showbtn","collectionbox","mod_flashcards_call_update","$fid","$questionid","$qaid","$cmid","$qanswervalue","concat","value","urlParams","URLSearchParams","window","location","search","boxid","get","call","methodname","args","fid","questionid","qanswervalue","done","result","html","fail","exception","relativeUrl","mod_flashcards_minimize_app","style","display","classList","remove","add","prefval","mod_flashcards_show_app"],"mappings":"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","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification', 'core/url'], function ($, ajax, notification, url){\n    return {\n        init: function() {\n            var mobilebox = document.getElementById('mod-flashcards-mobile-app-info');\n            var showbtn = document.getElementById('mod-flashcards-show-app');\n            var collectionbox = document.getElementById('mod-flashcards-collection-box');\n            $.mod_flashcards_call_update = function ($fid, $questionid, $qaid, $cmid) {\n                var $qanswervalue = document.getElementById('qflashcard-question-answer-'.concat($qaid)).value;\n                var urlParams = new URLSearchParams(window.location.search);\n                var boxid = urlParams.get('box');\n                ajax.call([{\n                    methodname: 'mod_flashcards_update_progress',\n                    args: {fid: $fid, boxid: boxid, questionid: $questionid, qanswervalue: $qanswervalue},\n                    done: function () {\n                        ajax.call([{\n                            methodname: 'mod_flashcards_load_next_question',\n                            args: {fid: $fid, boxid: boxid},\n                            done: function(result) {\n                                if (result !== null) {\n                                    $(\"#mod-flashcards-question\").html(result);\n                                    ajax.call([{\n                                        methodname: 'mod_flashcards_load_learn_progress',\n                                        args: {fid: $fid, boxid: boxid},\n                                        done: function(result) {\n                                            if (result !== null) {\n                                                $(\"#mod-flashcards-learning-progress\").html(result);\n                                            }\n                                        },\n                                        fail: notification.exception\n                                    }]);\n                                } else {\n                                    window.location = url.relativeUrl('/mod/flashcards/studentview.php?id=' + $cmid);\n                                }\n                            },\n                            fail: notification.exception\n                        }]);\n                    },\n                    fail: notification.exception\n                }]);\n            };\n            $.mod_flashcards_minimize_app = function () {\n                mobilebox.style.display = \"none\";\n                showbtn.style.display = \"inline\";\n\n                collectionbox.classList.remove('col-sm-8');\n                collectionbox.classList.add('col-sm-12');\n\n                ajax.call([{\n                    methodname: 'mod_flashcards_set_showappinfo',\n                    args: {prefval: false},\n                    fail: notification.exception\n                }]);\n            };\n            $.mod_flashcards_show_app = function () {\n                mobilebox.style.display = \"block\";\n                showbtn.style.display = \"none\";\n\n                collectionbox.classList.remove('col-sm-12');\n                collectionbox.classList.add('col-sm-8');\n\n                ajax.call([{\n                    methodname: 'mod_flashcards_set_showappinfo',\n                    args: {prefval: true},\n                    fail: notification.exception\n                }]);\n            };\n        }\n    };\n});\n"],"file":"studentcontroller.min.js"}