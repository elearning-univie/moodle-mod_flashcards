{"version":3,"sources":["../src/studentrangeslider.js"],"names":["define","$","ajax","notification","init","slider","document","getElementById","output","progressbar","updatebar","barwidth","value","slidermax","css","slidermin","getAttribute","oninput","onchange","onblur","intval","Math","floor","isNumeric","mod_flashcards_start_learn_now","flashcardsid","call","methodname","args","qcount","done","result","window","location","fail","exception"],"mappings":"AAAAA,OAAM,qCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAA6C,UAA7C,CAAD,CAA2D,SAAUC,CAAV,CAAaC,CAAb,CAAmBC,CAAnB,CAAgC,CAC7F,MAAO,CACHC,IAAI,CAAE,eAAW,IACTC,CAAAA,CAAM,CAAGC,QAAQ,CAACC,cAAT,CAAwB,6BAAxB,CADA,CAETC,CAAM,CAAGF,QAAQ,CAACC,cAAT,CAAwB,mCAAxB,CAFA,CAGTE,CAAW,CAAGR,CAAC,CAAC,mCAAD,CAHN,CAOb,QAASS,CAAAA,CAAT,EAAqB,CACjB,GAAIC,CAAAA,CAAQ,CAAyB,GAArB,EAACH,CAAM,CAACI,KAAP,CAAe,CAAhB,CAAD,EAA8BC,CAAS,CAAG,CAA1C,CAAf,CACAJ,CAAW,CAACK,GAAZ,CAAgB,OAAhB,CAAyBH,CAAQ,CAAG,GAApC,CACH,CACD,GAAGN,CAAH,CAAW,IACHU,CAAAA,CAAS,EAAUV,CAAM,CAACW,YAAP,CAAoB,KAApB,CADhB,CAEHH,CAAS,EAAUR,CAAM,CAACW,YAAP,CAAoB,KAApB,CAFhB,CAGPR,CAAM,CAACI,KAAP,CAAeP,CAAM,CAACO,KAAtB,CACAF,CAAS,GACTL,CAAM,CAACY,OAAP,CAAiB,UAAW,CACxBT,CAAM,CAACI,KAAP,CAAe,KAAKA,KAApB,CACAF,CAAS,EACZ,CAHD,CAIAF,CAAM,CAACU,QAAP,CAAkBR,CAAlB,CACAF,CAAM,CAACW,MAAP,CAAgB,UAAW,CACvB,GAAIC,CAAAA,CAAM,CAAGC,IAAI,CAACC,KAAL,CAAW,KAAKV,KAAhB,CAAb,CACA,GAAIQ,CAAM,EAAI,KAAKR,KAAf,EAAwBX,CAAC,CAACsB,SAAF,CAAY,KAAKX,KAAjB,CAA5B,CAAqD,CACjD,GAAI,KAAKA,KAAL,EAAcG,CAAd,EAA2B,KAAKH,KAAL,EAAcC,CAA7C,CAAwD,CACpDR,CAAM,CAACO,KAAP,CAAeQ,CAAf,CACA,MACH,CAHD,IAGO,IAAI,KAAKR,KAAL,CAAaG,CAAjB,CAA4B,CAC/BV,CAAM,CAACO,KAAP,CAAeG,CAClB,CAFM,IAEA,CACHV,CAAM,CAACO,KAAP,CAAeC,CAClB,CACJ,CATD,IASO,CACHR,CAAM,CAACO,KAAP,CAAeG,CAClB,CACDP,CAAM,CAACI,KAAP,CAAeP,CAAM,CAACO,KAAtB,CACAF,CAAS,EACZ,CAhBD,CAiBAT,CAAC,CAACuB,8BAAF,CAAmC,SAASC,CAAT,CAAuB,CACtDvB,CAAI,CAACwB,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,gCADL,CAEPC,IAAI,CAAE,CAACH,YAAY,CAAEA,CAAf,CAA6BI,MAAM,CAAExB,CAAM,CAACO,KAA5C,CAFC,CAGPkB,IAAI,CAAE,cAASC,CAAT,CAAiB,CACnBC,MAAM,CAACC,QAAP,CAAkBF,CACrB,CALM,CAMPG,IAAI,CAAE/B,CAAY,CAACgC,SANZ,CAAD,CAAV,CAQH,CACJ,CACJ,CAlDE,CAoDV,CArDK,CAAN","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification', 'core/url'], function ($, ajax, notification){\n    return {\n        init: function() {\n            var slider = document.getElementById(\"mod-flashcards-range-slider\");\n            var output = document.getElementById(\"mod-flashcards-range-slider-value\");\n            var progressbar = $(\"#mod-flashcards-range-progressbar\");\n            /**\n             * update slider.\n             */\n            function updatebar() {\n                let barwidth = ((output.value - 1) * 100) / (slidermax - 1);\n                progressbar.css('width', barwidth + '%');\n            }\n            if(slider) {\n                var slidermin = Number(slider.getAttribute(\"min\"));\n                var slidermax = Number(slider.getAttribute(\"max\"));\n                output.value = slider.value;\n                updatebar();\n                slider.oninput = function() {\n                    output.value = this.value;\n                    updatebar();\n                };\n                output.onchange = updatebar;\n                output.onblur = function() {\n                    var intval = Math.floor(this.value);\n                    if (intval == this.value && $.isNumeric(this.value)) {\n                        if (this.value >= slidermin && this.value <= slidermax) {\n                            slider.value = intval;\n                            return;\n                        } else if (this.value < slidermin) {\n                            slider.value = slidermin;\n                        } else {\n                            slider.value = slidermax;\n                        }\n                    } else {\n                        slider.value = slidermin;\n                    }\n                    output.value = slider.value;\n                    updatebar();\n                };\n                $.mod_flashcards_start_learn_now = function(flashcardsid) {\n                    ajax.call([{\n                        methodname: 'mod_flashcards_start_learn_now',\n                        args: {flashcardsid: flashcardsid, qcount: slider.value},\n                        done: function(result) {\n                            window.location = result;\n                        },\n                        fail: notification.exception\n                    }]);\n                };\n            }\n        }\n    };\n});\n"],"file":"studentrangeslider.min.js"}