{"version":3,"file":"studentrangeslider.min.js","sources":["../src/studentrangeslider.js"],"sourcesContent":["import $ from \"jquery\";\nimport ajax from \"core/ajax\";\nimport notification from \"core/notification\";\n\nexport const init = () => {\n    var slider = document.getElementById(\"mod-flashcards-range-slider\");\n    var output = document.getElementById(\"mod-flashcards-range-slider-value\");\n    var progressbar = $(\"#mod-flashcards-range-progressbar\");\n    /**\n     * update slider.\n     */\n    function updatebar() {\n        let barwidth = ((output.value - 1) * 100) / (slidermax - 1);\n        progressbar.css('width', barwidth + '%');\n    }\n    if(slider) {\n        var slidermin = Number(slider.getAttribute(\"min\"));\n        var slidermax = Number(slider.getAttribute(\"max\"));\n        output.value = slider.value;\n        updatebar();\n        slider.oninput = function() {\n            output.value = this.value;\n            updatebar();\n        };\n        output.onchange = updatebar;\n        output.onblur = function() {\n            var intval = Math.floor(this.value);\n            if (intval == this.value && $.isNumeric(this.value)) {\n                if (this.value >= slidermin && this.value <= slidermax) {\n                    slider.value = intval;\n                    return;\n                } else if (this.value < slidermin) {\n                    slider.value = slidermin;\n                } else {\n                    slider.value = slidermax;\n                }\n            } else {\n                slider.value = slidermin;\n            }\n            output.value = slider.value;\n            updatebar();\n        };\n        $.mod_flashcards_start_learn_now = function(flashcardsid) {\n            ajax.call([{\n                methodname: 'mod_flashcards_start_learn_now',\n                args: {flashcardsid: flashcardsid, qcount: slider.value},\n                done: function(result) {\n                    window.location = result;\n                },\n                fail: notification.exception\n            }]);\n        };\n    }\n};\n"],"names":["slider","document","getElementById","output","progressbar","updatebar","barwidth","value","slidermax","css","slidermin","Number","getAttribute","oninput","this","onchange","onblur","intval","Math","floor","$","isNumeric","mod_flashcards_start_learn_now","flashcardsid","call","methodname","args","qcount","done","result","window","location","fail","notification","exception"],"mappings":"6bAIoB,SACZA,OAASC,SAASC,eAAe,+BACjCC,OAASF,SAASC,eAAe,qCACjCE,aAAc,mBAAE,8CAIXC,gBACDC,SAAiC,KAApBH,OAAOI,MAAQ,IAAaC,UAAY,GACzDJ,YAAYK,IAAI,QAASH,SAAW,QAErCN,OAAQ,KACHU,UAAYC,OAAOX,OAAOY,aAAa,QACvCJ,UAAYG,OAAOX,OAAOY,aAAa,QAC3CT,OAAOI,MAAQP,OAAOO,MACtBF,YACAL,OAAOa,QAAU,WACbV,OAAOI,MAAQO,KAAKP,MACpBF,aAEJF,OAAOY,SAAWV,UAClBF,OAAOa,OAAS,eACRC,OAASC,KAAKC,MAAML,KAAKP,UACzBU,QAAUH,KAAKP,OAASa,gBAAEC,UAAUP,KAAKP,OAAQ,IAC7CO,KAAKP,OAASG,WAAaI,KAAKP,OAASC,sBACzCR,OAAOO,MAAQU,QAERH,KAAKP,MAAQG,UACpBV,OAAOO,MAAQG,UAEfV,OAAOO,MAAQC,eAGnBR,OAAOO,MAAQG,UAEnBP,OAAOI,MAAQP,OAAOO,MACtBF,6BAEFiB,+BAAiC,SAASC,4BACnCC,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACH,aAAcA,aAAcI,OAAQ3B,OAAOO,OAClDqB,KAAM,SAASC,QACXC,OAAOC,SAAWF,QAEtBG,KAAMC,sBAAaC"}